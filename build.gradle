apply plugin: 'java'
apply plugin: 'jacoco'
apply plugin: 'war'
apply plugin: "com.github.spotbugs"

repositories {
    jcenter()
}

dependencies {
    providedCompile 'javax:javaee-web-api:7.0'
    compile "org.slf4j:slf4j-api:$slf4jVersion"
  compile "org.slf4j:jul-to-slf4j:$slf4jVersion"
  compile "org.slf4j:log4j-over-slf4j:$slf4jVersion"
  compile "ch.qos.logback:logback-classic:$logbackVersion"
    testCompile     'junit:junit:4.12'
spotbugsPlugins 'com.h3xstream.findsecbugs:findsecbugs-plugin:1.7.1'
}

spotbugs {
  toolVersion = '3.1.3'
  ignoreFailures = true
  effort = 'max'
  showProgress = true
}

sourceSets {
  // we define `main` sourceSet here, so SpotBugs Gradle Plugin generates `spotbugsMain` task
  main {
    java.srcDirs = ['src/main/java']
  }
}

// To generate an HTML report instead of XML
tasks.withType(com.github.spotbugs.SpotBugsTask) {
  reports {
    xml.enabled = false
    html.enabled = true
  }
}
